name: vite-press-deploy
run-name: ${{ gitea.actor }} is testing out Gitea Actions ğŸš€
on: [ push ]

jobs:
  Explore-Gitea-Actions:
    runs-on: windows-server
    steps:
      - run: echo " æ­¤ job é€šè¿‡ ${{ gitea.event_name }} äº‹ä»¶è‡ªåŠ¨è§¦å‘"
      - run: echo " æ­¤ job ç°åœ¨æ­£åœ¨Gitea æ‰˜ç®¡çš„ ${{ runner.os }} æœåŠ¡å™¨ä¸Šè¿è¡Œ!"
      - run: echo "ğŸ” The name of your branch is ${{ gitea.ref }} and your repository is ${{ gitea.repository }}."
      - name: "æ‹‰å–ä»£ç "
        uses: https://gitee.com/mirror-actions/checkout@v4
      - run: echo "${{ gitea.repository }} ä»“åº“ä»£ç å·²ç»ä¸‹è½½åˆ° runner "
      - name: "å®‰è£…ä¾èµ–"
        run: |
          pnpm install
      - name: "æ‰“åŒ…"
        run: |
          pnpm docs:build
      - name: "æ¸…ç†è¾“å‡ºç›®å½•"
        run: |
          if (Test-Path -Path "C:\output\dist") {
            Remove-Item -Path "C:\output\dist\*" -Recurse -Force
          }else{
            New-Item -Path "C:\output\dist" -ItemType Directory
          }
        shell: powershell
      - name: "å°†æ‰“åŒ…ç»“æœå¤åˆ¶åˆ° C:\output\dist ç›®å½•ä¸‹"
        run: |
          Copy-Item -Path "${{ gitea.workspace }}\docs\dist\*" -Destination "C:\output\dist" -Recurse -Force
        shell: powershell